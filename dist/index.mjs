import{launch as l}from"puppeteer";async function h(i){let{res:t,content:e,url:o,filename:r="test",pdfOptions:s,download:f,save:p}=i;try{let n=await l({headless:"new"}),d={path:p?`${r}.pdf`:void 0,format:s?.format?s.format:"A4",...s};if(o&&e)throw new Error("You can only pass one of url or content");n.newPage().then(async a=>{e&&await a.setContent(e),o&&await a.goto(o,{waitUntil:"networkidle0"}),await a.pdf(d).then(c=>{t.setHeader("Content-Type","application/pdf"),f&&t.setHeader("Content-Disposition",`attachment; filename=${r}.pdf`),t.send(c),t.end()}),await n.close()})}catch(n){console.error(n),t.status(500).send("Error generating PDF")}}export{h as generatePdf};
//# sourceMappingURL=index.mjs.map